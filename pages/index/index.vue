<template>
	<view style="background-image: url(../../static/img/comment_bg.png);">
		<uni-list v-for="(item,index) in commentList" :key="index" :data-index="index">
			<uni-list-item :title="item.name" :note="item.content"></uni-list-item>
		</uni-list>

	</view>
</template>

<script>
	import {listComment} from '../../api/index'
	export default {
		components: {

		},
		data() {
			return {
				commentList: [],
				demoList: [{
						username: 'â€”â€”ç½‘æ˜“äº‘éŸ³ä¹çƒ­è¯„ã€ŠHalseyChinaã€‹',
						name: ' â€”â€”ç½‘æ˜“äº‘éŸ³ä¹çƒ­è¯„ã€Šè¯¥ã€‹',
						content: 'ä½ æ˜¯ç»åŽ†äº†å¤šå°‘å§”å±ˆï¼Œæ‰æœ‰äº†é‚£ä¸€èº«å¥½è„¾æ°”ã€‚',
						color: '#aaff00'
					},
					{
						username: 'â€”â€”ç½‘æ˜“äº‘éŸ³ä¹çƒ­è¯„ã€Šè¯¥é£žé›ªå¿èˆž"',
						name: 'ä½ é—®æˆ‘ä¸ºä½•æ²‰é»˜ï¼Œæœ‰çš„äººæ— è¯å¯è¯´ï¼Œæœ‰çš„è¯æ— äººå¯è¯´',
						content: 'ä½ é—®æˆ‘ä¸ºä½•æ²‰é»˜ï¼Œæœ‰çš„äººæ— è¯å¯è¯´ï¼Œæœ‰çš„è¯æ— äººå¯è¯´',
						color: '#aaff00'
					},
					{
						username: 'HalseyChina',
						name: ' â€”â€”ç½‘æ˜“äº‘éŸ³ä¹çƒ­è¯„ã€ŠWithout Meã€‹',
						content: 'when the events that inspired Without Me went down, this artist helped me through it all. now that the song is #1 this only seemed fitting to release... thanks JuiceWrld ðŸ’šâ€â€”â€”Halsey',
						color: '#aa1'
					},
					{
						username: 'é£žé›ªå¿èˆž"',
						name: 'â€”â€”ç½‘æ˜“äº‘éŸ³ä¹çƒ­è¯„ã€Šè¯¥æ‹œæœˆè€Œæ¢¦ã€‹',
						content: 'ä½ æ˜¯äººé—´çƒŸæ³¢ï¼Œä½ æ˜¯å¥½æ™¯è™šè®¾ï¼Œä½ å¼¹å°½äººé—´å£°è‰²ï¼Œå¼•æˆ‘è¿½æœˆè€Œæ¥ï¼Œéå¯»ä¸å¾—ã€‚ä½ æ˜¯äººé—´æ¢¦å¯»ï¼Œä½ æ˜¯å¥½æ™¯æ€…æƒ˜ï¼Œä½ ç•™ä¸‹æ–‘ç‚¹ç—•è¿¹ï¼Œå¼•æˆ‘å‘æœˆè€Œæ‹œï¼ŒçŠ¹æ¢¦åƒè½¬',
						color: '#aaff00'
					}
				]
			}
		},
		onLoad() {
			this.listData()
		},
		methods: {
			listData(){
				debugger
				let that = this
				listComment({})
				.then((res)=>{
					if(res.data.code === 200){
						if(res.data.data.length !== 0){
							let list = []
							res.data.data.forEach(function(value){
								let name = 'â€”â€”ç½‘æ˜“äº‘éŸ³ä¹çƒ­è¯„ã€Š' + value.name + 'ã€‹'
								let content = value.content + 'â€”â€”â€”â€”' + value.username 
								value.name = name
								value.content = content
								list.push(value)
							})
							that.commentList = list
						} else{
							that.commentList = that.demoList
						}
					}
				})
				.catch((res)=>{})
			}
		}
	}
</script>

<style lang="scss">

</style>
